# Вопросы с собеседований по Collection Framework

### Расскажите про иерархию коллекций в Collection Framework
- Наверху интерфейс **Iterable**, благодаря которому по коллекции можно пробегаться циклом **for each**
- Далее идет интерфейс Collection, от которого наследуются **List**, **Set**, **Queue**
- Основные реализации **List** - **ArrayList**, **LinkedList**
- Основные реализации **Set** - **HashSet**, **TreeSet**, **LinkedHashSet**
- **LinkedList** так же реализует интерфейс **Queue**

- Отдельно стоит интерфейс **Map**, у которого основные реализации - **TreeMap**, **HashMap**, **LinkedHashMap**

### Чем отличаются LinkedList и ArrayList?
- **LinkedList** работает на основе связного списка, а **ArrayList** на массиве

### В каких случаях стоит использовать LinkedList, а в каких ArrayList?
- Когда приходится часто **добавлять элементы в начало/середину или удалять** элементы, то следует использовать **LinkedList**. ArrayList используется вместо обычных массивов (динамический массив)

### В чем отличие коллекций List и Set?
- В коллекции **List** можно хранить сколько угодно одинаковых элементов, а в коллекции Set нельзя.
- **Set** не содержит методов по обращению к индексам элементов

### Коллекции Set не содержат метод get(int index), как можно получить из них список всех значений, чтобы вывести в консоль?
- Так как Set наследуется от интерфейса **Iterable**, то по коллекции можно пробежаться циклом **for each**

### Перечислите основные реализации коллекции Set. Чем они отличаются друг от друга?
- **HashSet** (элементы хранятся беспорядочно)
- **TreeSet** (элементы хранятся в отсортированном виде)
- **LinkedHashSet** (элементы хранятся в порядке добавления)

### В классе User есть одно поле name типа String. Если в TreeSet добавить объекты данного класса, как они будут отсортированы?
- Если класс User реализует интерфейс **Comparable**, либо в качестве параметра в конструктор TreeSet был передан **Comparator**, то объекты будут отсортированы так, как указано в методе **compare** (или **compareTo**)
- В противном случае выброситься **исключение**

### Equals и hashCode - что это за методы и зачем они нужны?
- Эти методы из родительского для всех класса **Object**
- Метод **equals** позволяет сравнивать объекты по значениям их полей
- Метод **hashCode** возвращает численное представление объекта. Используется в коллекциях HashMap и HashSet для определения позиции элемента в хэш-таблице

### Какие существуют правила для методов equals и hashCode?
- Переопределил **equals** -- переопредели и **hashCode**
- Если хэш-коды у объектов **разные**, то и объекты точно **разные**
- Если хэш-коды **равны**, то это **не значит, что равны** и объекты

### Для чего нужна коллекция типа Map?
- Для хранения объектов парами **ключ-значение**

### Могут ли в одной коллекции Map быть два одинаковых ключа или два одинаковых значения?
- Два одинаковых ключа быть не может
- Два одинаковых значения - может

### Как устроен HashMap изнутри?
- При создании коллекции создается массив из 16 элементов, их еще называют корзинами. При добавлении нового элемента на основании хэш-кода ключа вычисляется номер ячейка, в которую будет положен элемент. Если в той ячейке ничего нет, то туда кладется ключ и значение. Если же там занято, то мы проверяем по equals не равен ли тот ключ добавляемому, если равен, то значение перезаписывается, если не равен, то происходит коллизия

### Как решаются коллизии в HashMap?
- В ячейке с коллизией создается связный список, если размер превышает 8 элементов, то структура меняется на дерево

### Как можно потерять элемент в HashMap?
- В качестве ключа указать изменяемый тип данных и после добавления элемента в HashMap изменить ключ

### Как устроен HashSet?
- HashSet использует HashMap. Объекты, которые будут добавляться в коллекцию используются в качестве ключей, а значение у всех элементов одно и тоже - Object **obj**

### Алгоритмическая сложность следующих операций
![Алгоритмическая сложность операций.png](imagesForReadme/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F%20%D1%81%D0%BB%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B9.png)